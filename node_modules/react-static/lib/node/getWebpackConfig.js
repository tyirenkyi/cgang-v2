"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getWebpackConfig;

// Require the binHelper first
require('../utils/binHelper');

var getConfig = require('../static/getConfig');

var makeWebpackConfig = require('../static/webpack/makeWebpackConfig'); // Required so handle static.config.js defined as es module


function getWebpackConfig(configPath) {
  var stage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'dev';
  var state = {
    configPath: configPath,
    stage: stage
  };
  state = getConfig(state);
  return makeWebpackConfig(state);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlL2dldFdlYnBhY2tDb25maWcuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImdldENvbmZpZyIsIm1ha2VXZWJwYWNrQ29uZmlnIiwiZ2V0V2VicGFja0NvbmZpZyIsImNvbmZpZ1BhdGgiLCJzdGFnZSIsInN0YXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQUEsT0FBTyxDQUFDLG9CQUFELENBQVA7O0FBRUEsSUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUMscUJBQUQsQ0FBekI7O0FBQ0EsSUFBTUUsaUJBQWlCLEdBQUdGLE9BQU8sQ0FBQyxxQ0FBRCxDQUFqQyxDLENBRUE7OztBQUVlLFNBQVNHLGdCQUFULENBQTBCQyxVQUExQixFQUFxRDtBQUFBLE1BQWZDLEtBQWUsdUVBQVAsS0FBTztBQUNsRSxNQUFJQyxLQUFLLEdBQUc7QUFDVkYsSUFBQUEsVUFBVSxFQUFWQSxVQURVO0FBRVZDLElBQUFBLEtBQUssRUFBTEE7QUFGVSxHQUFaO0FBSUFDLEVBQUFBLEtBQUssR0FBR0wsU0FBUyxDQUFDSyxLQUFELENBQWpCO0FBQ0EsU0FBT0osaUJBQWlCLENBQUNJLEtBQUQsQ0FBeEI7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIFJlcXVpcmUgdGhlIGJpbkhlbHBlciBmaXJzdFxyXG5yZXF1aXJlKCcuLi91dGlscy9iaW5IZWxwZXInKVxyXG5cclxuY29uc3QgZ2V0Q29uZmlnID0gcmVxdWlyZSgnLi4vc3RhdGljL2dldENvbmZpZycpXHJcbmNvbnN0IG1ha2VXZWJwYWNrQ29uZmlnID0gcmVxdWlyZSgnLi4vc3RhdGljL3dlYnBhY2svbWFrZVdlYnBhY2tDb25maWcnKVxyXG5cclxuLy8gUmVxdWlyZWQgc28gaGFuZGxlIHN0YXRpYy5jb25maWcuanMgZGVmaW5lZCBhcyBlcyBtb2R1bGVcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdlYnBhY2tDb25maWcoY29uZmlnUGF0aCwgc3RhZ2UgPSAnZGV2Jykge1xyXG4gIGxldCBzdGF0ZSA9IHtcclxuICAgIGNvbmZpZ1BhdGgsXHJcbiAgICBzdGFnZSxcclxuICB9XHJcbiAgc3RhdGUgPSBnZXRDb25maWcoc3RhdGUpXHJcbiAgcmV0dXJuIG1ha2VXZWJwYWNrQ29uZmlnKHN0YXRlKVxyXG59XHJcbiJdfQ==